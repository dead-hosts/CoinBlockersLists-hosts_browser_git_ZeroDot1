env:
  global:
    - secure: ciiA4+OPLFux9kQbf1uJ/NhCcNgYn4iM8EfVnQxSvvCBs+iIm1JbGyC2qQO9WaIePisD3aHJfw3Bzsw+pMd7o97lT/iceRokE0DxzY++VKfZwDdg+HqwLbnZOVv+sFoZVPjtCtJPfuhYTI1LLPyONByPUga6fT7A8rkamYZYrkX8psL16ZLMe3C9Jv6WC4V9f6OAodpr1xI7a4dQ/H8nEZawOzr0YRw6SKUOrJO3xA6eLfOFXRyx5L2TNzlEgrgjq+mZjxlBafZeT/AX4SEw7ubuOkRrPnwhsfcH40R0MoJni+tkSXri9AnGLD70GFUXj3Gt4EFxZUh5K5pSKDdM8CySt31kaueCms1vexuntFV2G3/gvCT1q1XDzuQkiNuJrM/4h5GLxDI0ZjoFcpdHFhQwayv/moxj3M7vitvYdyWtNOY0ChOF4vJ01lvQWDtyswhXxIbCdP72lcIjbgaxBjsEXdhfzfIBYFVClLBroHMcASnuRccrrv4azsYMpqR7yyg9VyJaBtrqpsqygqNGxlYaW7Gz07QyyQ1v+rqkQ0z09/d7N+FVAsykiL0ArljCV1PNl3pZnpxXj4wWwf2v8I/qoCHBIAO0Vk8ZSgAf3kzSMB1v/R7jzh2Ny6ju/F4pN6acU9pUc9SVUuqMr7x9U9XVI9tHAkzk8W/3yuChRKc=
    - GIT_NAME: Travis CI
    - GIT_EMAIL: dead-hosts@funilrys.com
    - TRAVIS_REPO_SLUG: dead-hosts/CoinBlockersLists-hosts_browser_git_ZeroDot1
    - GIT_BRANCH: master
    - UPDATE_ME_LOCATION: https://raw.githubusercontent.com/dead-hosts/repository-structure/master/update_me.py
    - ADMIN_LOCATION: https://raw.githubusercontent.com/dead-hosts/repository-structure/master/admin.py

dist: xenial
sudo: required

language: python

python:
  - "3.7"

matrix:
  fast_finish: true

cache:
  - pip

addons:
  apt:
    packages:
      - dos2unix

install:
  - pip3 install --upgrade pip
  - pip3 install requests

before_script:
  - if [[ ! -f .administrators ]]; then wget "${UPDATE_ME_LOCATION}" -o /dev/null -O update_me.py && chmod +x update_me.py; else echo "update_me not downloaded :)"; fi
  - if [[ ! -f .administrators ]]; then wget "${ADMIN_LOCATION}" -o /dev/null -O admin.py && chmod +x admin.py; else echo "admin not downloaded :)"; fi

script:
  - python3 update_me.py

notifications:
  on_success: change
  on_failure: always
